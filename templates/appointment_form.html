<form method="post">
    {% csrf_token %}

    <!-- Select Date (Only dates with available time slots) -->
    <label for="appointment_date">Select a Date:</label>
    <select name="appointment_date" required>
        {% for date in available_dates %}
            <option value="{{ date.date }}">{{ date.date }}</option>
        {% endfor %}
    </select>

    {% if available_time_slots %}
        <label for="time_slot">Select a Time Slot:</label>
        <select name="time_slot" required>
            {% for slot in available_time_slots %}
                <option value="{{ slot.id }}">{{ slot.start_time }}</option>
            {% endfor %}
        </select>
    {% else %}
        <p>No available time slots for the selected date.</p>
    {% endif %}

    <!-- Select Service -->
    <label for="service">Select a Service:</label>
    <select name="service" required>
        {% for service in services %}
            <option value="{{ service.id }}">{{ service.name }}</option>
        {% endfor %}
    </select>

    <button type="submit">Book Appointment</button>
</form>